<div class="headquarters-container">
  <div class="headquarters-title">
    <span class="material-symbols-outlined">home_pin</span>
    <span>Select your Aura Tower command center</span>
  </div>

  <div *ngIf="data$ | async else loading" class="headquarters-content">
    <div class="headquarters-grid">
      <at-info *ngIf="commandCenters.length < 1" class="headquarters-initial-info" [border]="false" infoText="This is where you will find all your command centers. Add the first center by clicking on the green tile, then give it a name, e.g. 'Home' and select the representing icon, click save and you're done"></at-info>

      @for (centerData of commandCenters; track $index) {
        <at-command-center [centerData]="centerData" (cancelAction)="cancelConfigMode($event)" (saveAction)="saveConfigMode($event)"></at-command-center>
      }
      @if (!configMode) {
        <at-command-center (addAction)="addNewManagementCenter()" [configModeType]="configModeTypes.add"></at-command-center>
      }
    </div>

    <div class="spacer-4"></div>

    <div class="buttons-container buttons-small-space justify-center">
      <button
      class="at-button circle iconic outline-green"
      matTooltip="Logout"
      mat-button
      (click)="logout()">
      <span class="material-symbols-outlined">power_settings_new</span>
    </button>
    <button
      class="at-button normal iconic flat-green"
      mat-button
      (click)="goToSettings()">
      <span class="material-symbols-outlined">settings</span>
      <span>{{'Settings'}}</span>
    </button>
    </div>
  </div>

  <ng-template #loading>
    <at-loading [blur]="true"></at-loading>
  </ng-template>
</div>
